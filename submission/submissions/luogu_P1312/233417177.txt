//  OJ: 洛谷
//  提交ID: 233417177
//  题目ID: P1312
#include<bits/stdc++.h>
#include<array>
#define int long long
#define file(name) freopen(#name".in", "r", stdin), freopen(#name".out", "w", stdout);
using namespace std;
using mat = array<array<short, 5>, 7>;
bool del[7][5];
mat update(mat a) {
	bool flg = 1;
	while (flg) {
		for (int i = 0; i < 7; ++i)
			for (int j = 0; j < 5; ++j) {
				if (!a[i][j]) continue;
				int di = i;
				while (di < 6 && a[di + 1][j] == 0)
					swap(a[di][j], a[di + 1][j]), ++di;
			}
		for (int i = 0; i < 7; ++i)
			for (int j = 0; j < 5; ++j)
				if (a[i][j]) {
					if (i - 2 >= 0) del[i][j] |= a[i][j] == a[i - 1][j] && a[i][j] == a[i - 2][j];
					if (i + 2 < 7) del[i][j] |= a[i][j] == a[i + 1][j] && a[i][j] == a[i + 2][j];
					if (j - 2 >= 0) del[i][j] |= a[i][j] == a[i][j - 1] && a[i][j] == a[i][j - 2];
					if (j + 2 < 5) del[i][j] |= a[i][j] == a[i][j + 1] && a[i][j] == a[i][j + 2];
					if (i - 1 >= 0 && i + 1 < 7) del[i][j] |= a[i][j] == a[i - 1][j] && a[i][j] == a[i + 1][j];
					if (j - 1 >= 0 && j + 1 < 5) del[i][j] |= a[i][j] == a[i][j - 1] && a[i][j] == a[i][j + 1];
				}
		flg = 0;
		for (int i = 0; i < 7; ++i)
			for (int j = 0; j < 5; ++j)
				if (del[i][j])
					a[i][j] = 0, flg = 1, del[i][j] = 0;
	}
	return a;
}
bool check(mat& a) {
	bool flg = 1;
	for (int i = 0; i < 7; ++i)
		for (int j = 0; j < 5; ++j)
			flg &= a[i][j] == 0;
	return flg;
}
int n;
vector<tuple<int, int, int>>ans;
bool dfs(int dep, mat a) {
	if (check(a)) return dep == n;
	if (dep > n) return 0;
	//cerr << dep << endl;
	for (int y = 0; y < 5; ++y)
		for (int x = 6; x >= 0; --x) {
			if (!a[x][y]) continue;
			if (y + 1 < 5) {
				swap(a[x][y], a[x][y + 1]);
				if (dfs(dep + 1, update(a))) {
					ans.push_back(make_tuple(x, y, 1));
					return 1;
				}
				swap(a[x][y], a[x][y + 1]);
			}
			if (y - 1 >= 0) {
				swap(a[x][y], a[x][y - 1]);
				if (dfs(dep + 1, update(a))) {
					ans.push_back(make_tuple(x, y, -1));
					return 1;
				}
				swap(a[x][y], a[x][y - 1]);
			}
		}
	return 0;
}
mat a;
int32_t main() {
	// file(mayan);
	cin.tie(0)->sync_with_stdio(false);
	cin >> n;
	for (int i = 0; i < 5; ++i) {
		int k, j = 7;
		while (cin >> k && k) a[--j][i] = k;
	}
	if (dfs(0, a)) {
		reverse(ans.begin(), ans.end());
		for (int i = 0; i < n; ++i) {
			//auto& [x, y, z] = ans[i];
			int x, y, z; tie(x, y, z) = ans[i];
			cout << y << ' ' << 6 - x << ' ' << z << endl;
		}
	}
	else {
		cout << -1 << endl;
	}
	return 0;
}