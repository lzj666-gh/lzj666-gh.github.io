//  OJ: 洛谷
//  提交ID: 231763728
//  题目ID: T542319
#include<bits/stdc++.h>
using namespace std;
using ll = long long;
constexpr int mod = 998244353;
int main() {
	cin.tie(0)->sync_with_stdio(false);
	ll n;
	cin >> n;
	vector<ll> a(n+1);
	for (int i = 1; i <= n; ++i) cin >> a[i];
	ll ans = 0;
	for (int i = 0; i < 63; ++i) {
		ll k1 = 0, k2 = 0;
		for (int j = 1; j <= n; ++j) {
			ll stp = 1LL << i, sp = stp << 1, c1 = 0;
			if (a[j] >= stp) {
				ll k_val = a[j] - stp + 1;
				ll t = k_val / sp;
				c1 = t * stp;
				ll rem = k_val % sp;
				c1 += min(rem, stp);
			}
			c1 %= mod;
			ll c0 = (a[j] % mod - c1 + 1 + mod) % mod;
			if (j == 1) {
				k1 = c0;
				k2 = c1;
			}
			else {
				ll new_k1 = (k1 * c0 % mod + k2 * c1 % mod) % mod;
				ll new_k2 = (k1 * c1 % mod + k2 * c0 % mod) % mod;
				k1 = new_k1;
				k2 = new_k2;
			}
		}
		ll base = (1LL << i) % mod;
		ans = (ans + base * k2 % mod) % mod;
	}
	cout << (ans % mod + mod) % mod << endl;
	return 0;
}