//  OJ: 洛谷
//  提交ID: 233572381
//  题目ID: P3371
#include<bits/stdc++.h>
using namespace std;
int n,m,head[100010],k,s,dis[100010],vis[100010];
struct node{
	int next,to,w;
}e[1000010];
inline void adde(int u,int v,int w){
	e[++k].next=head[u];head[u]=k;
	e[k].to=v;e[k].w=w;
}
inline void spfa(int s){
	deque<int> q;dis[s]=0;q.push_back(s);
	while(!q.empty()){
		int u=q.front();q.pop_front();vis[u]=0;
		for(int i = head[u];i;i=e[i].next){
			int v=e[i].to,w=e[i].w;
			if(dis[u]+w<dis[v]){
				dis[v]=dis[u]+w;
				if(!vis[v])
					if(dis[v]<dis[q.front()]) q.push_front(v);
					else q.push_back(v);
				vis[v]=1;
			}
		}
	}
}
int main(){
	cin>>n>>m>>s;int u,v,w;
	for(int i = 1;i<=n;i++)dis[i]=2147483647;
	for(int i = 1;i<=m;i++){
		cin>>u>>v>>w;adde(u,v,w);
	}
	spfa(s);
	for(int i = 1;i<=n;i++)cout<<dis[i]<<" ";
}