//  OJ: 洛谷
//  提交ID: 234142254
//  题目ID: P1972
#include<bits/stdc++.h>
#define int long long 
using namespace std;
int n, m, a[1000000 + 5];
int t[1000000 + 5];
void add(int x, int k) {
	while (x <= n)
		t[x] += k, x += x & -x;
}
int query(int x) {
	int res = 0;
	while (x) res += t[x], x -= x & -x;
	return res;
}
struct Query {
	int l, r, idx;
	friend bool operator<(const Query& a, const Query& b) {
		return a.r < b.r;
	}
}q[1000000 + 5];
int vis[1000000 + 5], ans[1000000 + 5];
signed main() {
	cin.tie(0)->sync_with_stdio(false);
	cin >> n;
	for (int i = 1; i <= n; ++i) cin >> a[i];
	cin >> m;
	for (int i = 1; i <= m; ++i) cin >> q[i].l >> q[i].r, q[i].idx = i;
	int cur = 1;
	sort(q + 1, q + m + 1);
	for (int i = 1; i <= m; ++i) {
		while (cur <= q[i].r) {
			if (vis[a[cur]]) add(vis[a[cur]], -1);
			add(vis[a[cur]] = cur, 1);
			++cur;
		}
		ans[q[i].idx] = query(q[i].r) - query(q[i].l - 1);
	}
	for_each(ans + 1, ans + m + 1, [&](int& x) { cout << x << endl; });
	return 0;
}